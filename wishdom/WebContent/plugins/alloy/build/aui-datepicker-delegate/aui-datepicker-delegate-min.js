YUI.add("aui-datepicker-delegate",function(e,t){function y(){}var n=e.Lang,r=n.isString,i=e.one(e.config.doc),s="activeInput",o="click",u="container",a="dateSeparator",f="datepickerSelection",l="mask",c="mousedown",h="selectionChange",p="trigger",d="focusin",v="focusout",m="valueExtractor",g="valueFormatter";y.prototype={_eventHandles:null,_userInteractionInProgress:!1,initializer:function(){var e=this;e.bindDelegateUI()},destroy:function(){var t=this;(new e.EventHandle(t._eventHandles)).detach()},bindDelegateUI:function(){var t=this,n=t.get(u),r=t.get(p);t._eventHandles=[n.delegate([d,c],e.bind("_onceUserInteraction",t),r),n.delegate(v,e.bind("_onUserInteractionRelease",t),r),n.delegate(o,e.bind("_onceUserInteractionRelease",t),r)],t.publish(h,{defaultFn:t._defSelectionChangeFn})},getSelectedDates:function(e){var t=this,n=e||t.get(s),r=n.getData(f);return r?r:null},getParsedDatesFromInputValue:function(t){var n=this,r=n.get(m),i=r.call(n,t);return i?e.Array.filter(i,function(e){return e!==!1}):null},useInputNode:function(){},useInputNodeOnce:function(e){var t=this;t._userInteractionInProgress||t.useInputNode(e)},_defSelectionChangeFn:function(e){var t=this,n=e.newSelection,r=t.get(s),i=t.get(g);i.call(t,n),r.setData(f,n)},_formatDate:function(t){var n=this,r=n.get(l);return e.Date.format(t,{format:r})},_onceUserInteraction:function(e){var t=this;t.useInputNodeOnce(e.currentTarget),t._userInteractionInProgress=!0},_onceUserInteractionRelease:function(e){var t=this;t.useInputNodeOnce(e.currentTarget),t._userInteractionInProgress=!1},_onUserInteractionRelease:function(e){var t=this;t.useInputNode(e.currentTarget),t._userInteractionInProgress=!1},_valueExtractorFn:function(){return function(t){var r=this,i=r.get(s),o=n.trim(t||i.val()),u=r.get(a),f=r.get(l),c;return o&&(c=[],e.Array.each(o.split(u),function(t){t=n.trim(t),t&&c.push(e.Date.parse(f,t))})),c}},_valueFormatterFn:function(){return function(t){var n=this,r=n.get(s),i=n.get(a),o=[];e.Array.each(t,function(e){o.push(n._formatDate(e))}),r.val(o.join(i))}}},y.ATTRS={activeInput:{},container:{setter:e.one,value:i,writeOnce:!0},dateSeparator:{value:" \u2014 ",validator:n.isString},mask:{value:"%m/%d/%Y",validator:n.isString},trigger:{validator:r,writeOnce:!0},valueExtractor:{valueFn:"_valueExtractorFn",validator:n.isFunction},valueFormatter:{valueFn:"_valueFormatterFn",validator:n.isFunction}},e.DatePickerDelegate=y},"2.0.0pr7",{requires:["node-event-delegate","event-focus","aui-event-input","aui-datatype-date-parse"]});
